------------------------------------------------------------------------------
This file is used to record changes made to the CVS database. Please add to
the top of this file before committing any changes.

Al
------------------------------------------------------------------------------
Thu Sep 30 10:34 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Fixed unbalanced map_buffer calls in minix_add_entry().

Fri Sep 24 16:24 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Fixes and code cleanups in fs code by Thomas McWilliams.
	
Thu Sep 16 12:04 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Fixes and code cleanups in fs code by Thomas McWilliams.

Tue Sep 14 19:32 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Fix to problem with fchown() by Blaz Antonic.

Tue Sep 14 19:29 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Fixed types of all string lengths in namei code to size_t.

	* Fixed problem with 14 char filenames by Blaz Antonic.

Tue Sep 14 19:27 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Fix type of task->child_wait by Thomas McWilliams.

Fri Aug 27 14:11 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Added CONFIG_SHORT_FILES which limits fds to 16.

	* Removed unused supplementary groups, and made into a config option.

	* Made link_count a global variable, rather than per task.

	* Optimised the way read(2) and write(2) check file descriptors.

	* Made character access to block devices an option.

	* Cleaned up and tested signal code.

	* Fixed cleaning up of signals and fds in close(2).

	* Many bug fixes by Thomas G. McWilliams to fs code.

	* Final version tweaks for 0.0.79

Thu Aug 26 19:39 CEST 1999	Arnaud Launay  <zoro@multimania.com>

	* Some additions and clean-ups in docs.

Mon Aug 23 11:19 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Fixed tty bug that prevented boot/root disk from working.

Wed Aug 18 19:40 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Added vfork() capability.

	* Added simple data types for many values in the kernel.

	* Cleaned up header files.

	* Removed unused features from the interrupt code.

	* Cut down to 16 signals rather than 32.

	* Replaced schedular code with a more compact round robin version.

	* Changed default size of block and inode values from 32 to 16 bit.

	* Made closing a terminal HUP the process group.
	
Tue Jul 20 18:11 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Removed unused members of fs structures.

Tue Jul 20 18:08 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Fix debugging output in signal code.

Tue Jul 20 17:34 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Fix to exec time memory allocation by Greg.

Thu Jul 15 22:17 CEST 1999  Arnaud Launay  <zoro@multimania.com>

	* Updates to the french faq, and added the japanese faq.

Thu Jul 15 14:14 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Final updates for 0.0.78

Wed Jul 14 18:32 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Many changes to tty code to correct various aspects of behavoir
	  by Al Riddoch and Greg Haerr.

Wed Jul 14 18:28 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Update and recode of direct console driver, adding more ansi
	  support, and BEL, by Greg Haerr.

Wed Jul 14 18:21 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Change to chq_peekch() which fixes select() behavoir for zero
	  bytes.

Wed Jul 14 18:21 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Fix to sched.[ch] which was messing up .o file sizes by Greg Haerr.

Wed Jul 14 18:17 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Updates to memory allocation code by Greg Haerr which fixes
	  environment truncation and brk() bug.

Fri Jul 09 17:00 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Major updates to socket code. Addition of server socket capability,
	  and addition of unix domain socket code (currently no functional),
	  plus nano sockets.

Fri Jul 09 16:59 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Late commit of changes for version 0.0.77 due to cvs outage.

Fri Jul 09 16:54 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Added support for very basic pseudo ttys. Initially to
	  support terminal program for nano-X.

Fri Jul 09 16:21 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Make exit send a SIGCHLD to parent.

Fri Jul 09 16:21 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Fixed the way the kernel handles loading sh if no init is found

Fri Jul 09 16:15 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Updated signal code to make it clearer.

Fri Jul 09 16:10 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Updated romfs to use byteorder functions.

Fri Jul 09 15:45 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Tweaks to bioshd driver to fix problems with disabling hd
	  support. Fix to Changelog times.

Wed Jul 07 19:17 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Updated build system to make it more arch independant. Makefile
	  contributed by Simon Wood.

Tue Jul 06 19:17 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Added byteorder functions for romfs.

Tue Jul 06 14:23 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* More changes to the rd driver by Blaz Antonic.

Mon Jul 05 14:11 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Sanitisation and enhancement of the rd driver by Blaz Antonic.

Thu Jun 24 14:11 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Bug fix to bioscon driver.

Tue Jun 15 10:40 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Latest changes to (ALPHA) meta driver.

Tue Jun 15 10:31 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Minor tweaks to Makefile

Sun May 30 00:05 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Fixes code to allow loading of shared libraries.

Sun May 30 00:05 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Modified tty interface to simplify it.

	* Added support for non-blocking IO on ttys.

	* Included support for graphics on direct console driver.

	* Updated serial termios support to allow baud rate to be changed.

	* Added support for ^C and ^Z to generate signals from the console.

	* Minor tweaks to select code.

	* Added socket to syscall table.

Sun May 30 00:01 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Updated todo file.

Fri May 28 20:04 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Updated bugs file.

Thu May 20 12:04 BST 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Final tweaks for 0.0.76

Mon May 17 12:29 GMT 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Added Documentation/cs_write which describes code that
	  writes to the kernel code segment.

Tue May 06 17:19 GMT 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Fixed select code, including modifications to scheduler
	  to fix timers.

Tue May 06 16:39 GMT 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Minor fix to lp driver.

Fri Apr 16 09:57 GMT 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Added support for the signal(2) system call, and support
	  for signal handler functions.

Thu Feb 25 21:13 GMT 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Fixed typo for read_only option.

Tue Feb 16 12:34 GMT 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Final tweaks for 0.0.75

Mon Feb 15 17:08 GMT 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Driver stub of meta driver for user space device drivers

Mon Feb 15 17:06 GMT 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Latest tweaks to serial driver by Blaz Antonic

Mon Feb 15 16:56 GMT 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>
	
	* Added alpha code for shared libraries.

Mon Feb 15 16:47 GMT 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Commented mm diagnostic functions.

Fri Feb 12 16:35 GMT 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Trimmed block request code.

Sun Jan 31 17:50 GMT 1999   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Fix main.c so init is launched with a valid set of argvs.

	* Fix ntty.c so tty driver ioctls are called.

Sat Dec 06 00:24 GMT 1998   Alastair Bridgewater  <nyef@softhome.net>

	* Fixed arch/i86/lib/Makefile to rebuild setup[bw].s when nessecary.

Wed Thu 03 17:12 GMT 1998   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Tweaked docs for 0.0.74

Wed Thu 03 17:12 GMT 1998   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Debugged minix filesystem, so that removing files now
	  works correctly, and the filesystem no longer gets corrupted.

Wed Nov 19 18:22 GMT 1998   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Added Riley Williams changes to bootsect.S to fix a bug and tidy
	  up the code.

Wed Nov 19 17:51 GMT 1998   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Added latest changes to 286 pmode code by
	  Alastair Bridgewater. Include change to the code that detects
	  when the kernel is restarted so it no longer has to modify its own
	  code segment.

Wed Nov 19 17:39 GMT 1998   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Fix to minix truncate code. See BUGS.

Tue Nov 18 11:42 GMT 1998   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Tweaked select so it now passes 5 parameters in the normal way.

Thu Nov 18 15:00 GMT 1998   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Some more updates to config scripts made in conjunction with
	  Riley Williams.

Thu Nov 18 14:31 GMT 1998   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Fixed typo in hdisk reporting.

Wed Nov 18 19:16 GMT 1998   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Integrated updated and re-organised config scripts contributed
	  by Riley Williams.

Tue Nov 17 19:16 GMT 1998   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Improved serial driver and added support for serial console.

Mon Nov 16 17:48 GMT 1998   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Cosmetic fix to bitops.c pointed out by Riley Williams.

Mon Nov 16 16:31 GMT 1998   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Latest version of Blaz Antonics lp driver added.

Wed Nov 11 15:32 GMT 1998   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Latest version of Blaz Antonics directhd driver added.

	* Fixed bioscon driver as contributed by David Murn - now
	  works correctly.

	* Minor tweaks to nearby code.

Tue Nov  3 12:44 CET 1998   Simon Weijgers  <simon@mbit.doa.org>
	
	* Fixed a little parse error pointed out by Al Sutton
	  <al.sutton@chase.com>.

Thu Oct 22 17:46 BST 1998   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Some fixes to serial driver - now interrupts seem to work.

	* Final tweeks before 0.0.73.

Wed Oct 21 12:26 BST 1998   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* More register variable optimisation. Should now be complete.

	* Fixed some small bugs introduced in previous optimisation.

	* Discovered big bug in the minix truncate code - see BUGS.

Thu Oct 13 20:20 BST 1998   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Heavily optimised fs code adding new register varables in
	  carefully selected places.

	* Re-wrote block device code so it now only deals with single block
	  accesses, but much more cleanly

	* Fixed comment in kernel/sched.c

	* Removed alot of checking code from get_empty_inode() in
	  fs/inode.c. I don't think this should cause a problem. opinions?

Thu Oct 13 20:20 BST 1998   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Added new BUGS entries.

Tue Oct 13 18:07 BST 1998   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Optimised code size with careful use of register variables

Tue Oct 13 12:09 BST 1998   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Removed the blocked signal element from task structure, and
	  associated code.

Sun Oct 11 13:37 BST 1998   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Corrected some signal behavoir, fixed return status behavoir.

Sat Oct 10 11:59 CET 1998   Simon Weijgers  <simon@mbit.doa.org>

	* After detection of executable format jump to
	  rest of the code instead of going on detecting other
	  formats.

Sat Oct 10 09:18 BST 1998   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Moved dependency cleaning to its own rule.

Thu Oct 08 20:40 BST 1998   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Added very simple signal support.

Mon Oct 05 11:15 BST 1998   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Replaced functions cli() and sti() with single asm instruction
	  macros icli() and isti(), which saves 96 bytes.

	* Moved Makefile dependency cleaning to distclean as I was fed up
	  of doing make dep so much.

Sun Sep 25 12:37 BST 1998   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Removed redundant code from the dircon driver.

Sat Sep 26 02:07 CET 1998   Simon Weijgers  <mbit@mbit.doa.org>
	
	* Added a ### Dependencie line at the end of the Makefiles
	  in fs/ and fs/elksfs/.

Sat Sep 26 01:50 CET 1998   Simon Weijgers  <mbit@mbit.doa.org>
	
	* Fixed various things (typos etc) in fs/exec.c and
	  include/linuxmt/msdos.h to make .exe-support compilable.

Sat Sep 26 00:32 CET 1998   Simon Weijgers  <mbit@mbit.doa.org>
	
	* "Fixed" Documentation/Configure.help so that help text
	  fits in the menuconfig help-window line length.

Fri Sep 25 15:30 BST 1998   Alistair Riddoch  <ajr@ecs.soton.ac.uk>

	* Fixed a some bugs pointed out by Marnix Coppens <maco@telindus.be>

	  Changed code at 147 in arch/i86/mm/user.c in strlen_fromfs
	  which should use es:di to point to a string rather than ds:si.

	  Fixed code in fs/exec.c which uses file.f_op before it has been
	  checked.
	  Replaced code that clears bss in exec() to a call to fmemset() but
	  this did not work. fmemset() may be buggy.

	  Fixed chq_erase() so it zeroes len, not size, and ifdef'd it out.

	  Tweaked getch and addch so they deal with waiting in less code,
	  and modified checks for q->size - 1 into checks for q->size.

	  ifdef'd out chq_delch

Thu Sep 24 23:28 CET 1998   Simon Weijgers  <mbit@mbit.doa.org>

	* Changed "toplevel" Makefile to make it clean up all
	  dependency stuff in all Makefiles. Should make it easier
	  (no rejects) to patch and diff stuff. 

Wed Sep 23 16:10 CET 1998   Simon Weijgers  <mbit@mbit.doa.org>

	* Changed #include <errno.h> to #include <linuxmt/errno.h>
	  in file arch/i86/drivers/block/rd.c.
	  It doesn't matter for compilation but it should be a kernel
	  include file right?

Wed Sep 16 20:20 CET 1998   Simon Weijgers  <mbit@mbit.doa.org>

	* Fixed infinite loop bug in dircon.c ansi color code;
	  the infinite loop would occur when faulty ansi escape
	  sequences were fed to the kernel.
